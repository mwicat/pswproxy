
class ContentHandler:

    pass

class ImageHandler(ContentHandler):

    pass

class HTMLHandler(ContentHandler):

    pass

class ExeHandler(ContentHandler):

    pass

class Replacer:

    def get_content_type(headers, response):
        ctype = resp.getheader('Content-Type')
        return ctype

    def replace(headers, response):
        ctype = self.get_content_type(headers, response)
        if ctype in handlers:
            handler = handlers[ctype]
        else:
            handler = None
        if handler is not None:
            headers, response = handler.handle(headers, response)
        return headers, response
